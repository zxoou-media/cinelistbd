<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CineListBD | Sections</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

  <!-- ðŸ” Search + Dark Mode -->
  <div class="search-row">
    <input type="text" id="search-box" placeholder="Search movies..." />
    <button id="theme-toggle">Dark Mode</button>
  </div>

  <!-- ðŸŽ›ï¸ Filter Buttons -->
  <div class="filter-row">
    <select><option>All Sections</option></select>
    <select><option>All OTT Platform</option></select>
    <select><option>All Genres</option></select>
    <select><option>All Languages</option></select>
    <select><option>All Types</option></select>
    <select><option>All Qualities</option></select>
  </div>

  <!-- ðŸŽ¬ Sections -->
  <div class="section-wrapper">
    {% for section in sections %}
      <div class="section">
        <div class="section-heading-wrapper">
          <h2>{{ section.title }}</h2>
        </div>
        <div class="movie-grid">
          {% for movie in section.movies %}
            <div class="movie-card">
              <img src="{{ movie.poster }}" alt="{{ movie.title }}" loading="lazy"
                   onerror="this.onerror=null;this.src='/static/img/fallback.jpg';" />
              <h3>{{ movie.title }}</h3>
              <p>
                {% if movie.lang %}{{ movie.lang | join(', ') }}{% endif %}
                {% if movie.quality %} | {{ movie.quality | join(', ') }}{% endif %}
              </p>
              {% if movie.trailer %}
                <a href="{{ movie.trailer }}" target="_blank">Watch Trailer</a>
              {% endif %}
            </div>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
  </div>

  <!-- ðŸ” Pagination -->
  <div class="pagination">
    {% if current_page > 1 %}
      <a href="{{ url_for('section_page', page=current_page - 1) }}" class="page-btn">Previous</a>
    {% endif %}

    {% for page_num in page_range %}
      <a href="{{ url_for('section_page', page=page_num) }}"
         class="page-btn {% if page_num == current_page %}active{% endif %}">
         {{ page_num }}
      </a>
    {% endfor %}

    {% if current_page < total_pages %}
      <a href="{{ url_for('section_page', page=current_page + 1) }}" class="page-btn">Next</a>
    {% endif %}
  </div>

</body>
</html>